<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Rock Paper Scissors</title>
    <style>
        img{
            width: 200px;
        }
    </style>
</head>
<body>
    <div class="choice" id="rock">
        <img src="pictures/rock.jpg" alt="Picture of a rock">
    </div>
    <div class="choice" id="paper">
        <img src="pictures/paper.jpg" alt="Picture of a paper">
    </div>
    <div class="choice" id="scissors">
        <img src="pictures/scissors.jpg" alt="Picture of scissors">
    </div>

    <script>
        let computerSelection;
        let playerCount = 0;
        let computerCount = 0;
        let round = 0;

        const rock_div = document.getElementById("rock");
        const paper_div = document.getElementById("paper");
        const scissors_div = document.getElementById("scissors");

        const computerOptions = ["rock", "paper", "scissors"];
        const playerSelection = "";

        function getComputerChoice(){
            let choiceNum = Math.floor(Math.random() * 3);
            return computerOptions[choiceNum];
        }

        function playRound(playerSelection){
            const computerSelection = getComputerChoice();
            console.log("user " + playerSelection);
            console.log("com " + computerSelection);

            if (computerSelection == "rock"){
                if (playerSelection == "paper"){
                    console.log("Player wins");
                    playerWin();
                    round++;
                    console.log(playerCount);
                    console.log(computerCount);
                }
                else if (playerSelection == "scissors"){
                    console.log("Player loses");
                    computerWin();
                    round++;
                    console.log(playerCount);
                    console.log(computerCount);
                }
                else{
                    round++;
                    console.log("Draw");
                    console.log(playerCount);
                    console.log(computerCount);
                }
            }
            else if (computerSelection == "paper"){
                if (playerSelection == "scissors"){
                    console.log("Player wins");
                    playerWin();
                    round++;
                    console.log(playerCount);
                    console.log(computerCount);
                }
                else if (playerSelection == "rock"){
                    console.log("Player loses");
                    computerWin();
                    round++;
                    console.log(playerCount);
                    console.log(computerCount);
                }
                else{
                    round++;
                    console.log("Draw");
                    console.log(playerCount);
                    console.log(computerCount);
                }
            }
            else{
                if (playerSelection == "rock"){
                    console.log("Player wins");
                    playerWin();
                    round++;
                    console.log(playerCount);
                    console.log(computerCount);
                }
                else if (playerSelection == "paper"){
                    console.log("Player loses");
                    computerWin();
                    round++;
                    console.log(playerCount);
                    console.log(computerCount);
                }
                else{
                    round++;
                    console.log("Draw");
                    console.log(playerCount);
                    console.log(computerCount);
                }
            }
            game();
        }

        function playerWin(){
            playerCount++;
        }

        function computerWin(){
            computerCount++; 
        }

        function game(){
            if(round == 5){
                playerCount === computerCount ? console.log("Game over! It is a tie"):
                playerCount > computerCount ? console.log(`Game over! Player wins! Player: ${playerCount} | Computer: ${computerCount}`):
                console.log(`Game over! Computer wins! Player: ${playerCount} | Computer: ${computerCount}`);
                playerCount = 0;
                computerCount = 0;
                round = 0;
            }
        }

        function main(){
        rock_div.addEventListener('click', function() {
            playRound("rock");
        })

        paper_div.addEventListener('click', function() {
            playRound("paper");
        })

        scissors_div.addEventListener('click', function() {
            playRound("scissors");
        })
        }
        main();
    </script>
</body>
</html>