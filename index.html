<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Rock Paper Scissors</title>
    <style>
        img{
            width: 200px;
        }
    </style>
</head>
<body>
    <button id="rockbtn">rock</button>
    <button id="paperbtn">paper</button>
    <button id="scissorsbtn">scissors</button>
    <div id="scorediv">Player: 0 | Computer: 0</div>
    <div id="playerdiv">You chose: </div>
    <div id="computerdiv">Computer chose: </div>
    <div id="whoWinsdiv"></div>

    <div class="choice" id="rock">
        <img src="pictures/rock.jpg" alt="Picture of a rock">
    </div>
    <div class="choice" id="paper">
        <img src="pictures/paper.jpg" alt="Picture of a paper">
    </div>
    <div class="choice" id="scissors">
        <img src="pictures/scissors.jpg" alt="Picture of scissors">
    </div>

    <script>
        let computerSelection;
        let playerCount = 0;
        let computerCount = 0;
        let round = 0;

        const rock_div = document.getElementById("rock");
        const paper_div = document.getElementById("paper");
        const scissors_div = document.getElementById("scissors");

        const computerOptions = ["rock", "paper", "scissors"];
        let playerSelection = "";

        function getComputerChoice(){
            let choiceNum = Math.floor(Math.random() * 3);
            return computerOptions[choiceNum];
        }

        function playRound(playerSelection){
            const computerSelection = getComputerChoice();
            document.getElementById("playerdiv").innerHTML = "You chose " + playerSelection;
            document.getElementById("computerdiv").innerHTML = "Computer chose " + computerSelection;
            console.log("user " + playerSelection);
            console.log("com " + computerSelection);

            if (computerSelection == "rock"){
                if (playerSelection == "paper"){
                    playerWin();
                    round++;
                }
                else if (playerSelection == "scissors"){
                    computerWin();
                    round++;
                }
                else{
                    draw();
                    round++;
                }
            }
            else if (computerSelection == "paper"){
                if (playerSelection == "scissors"){
                    playerWin();
                    round++;
                }
                else if (playerSelection == "rock"){
                    computerWin();
                    round++;
                }
                else{
                    draw();
                    round++;
                }
            }
            else{
                if (playerSelection == "rock"){
                    playerWin();
                    round++;
                }
                else if (playerSelection == "paper"){
                    computerWin();
                    round++;
                }
                else{
                    draw();
                    round++;
                }
            }
            game();
        }

        function playerWin(){
            playerCount++;
            console.log("Player wins");
            console.log(playerCount);
            console.log(computerCount);
            document.getElementById("whoWinsdiv").innerHTML = "Player wins";
            document.getElementById("scorediv").innerHTML = `Player: ${playerCount} | Computer: ${computerCount}`;

        }

        function computerWin(){
            computerCount++; 
            console.log("Player loses");
            console.log(playerCount);
            console.log(computerCount);
            document.getElementById("whoWinsdiv").innerHTML = "Player loses";
            document.getElementById("scorediv").innerHTML = `Player: ${playerCount} | Computer: ${computerCount}`;
        }

        function draw(){
            console.log("Draw");
            console.log(playerCount);
            console.log(computerCount);
            document.getElementById("whoWinsdiv").innerHTML = "Draw";
            document.getElementById("scorediv").innerHTML = `Player: ${playerCount} | Computer: ${computerCount}`;
        }

        function game(){
            if(round == 5){
                if(playerCount === computerCount){
                    document.getElementById("scorediv").innerHTML = "Game over! It is a tie";
                }
                else if(playerCount > computerCount){
                    document.getElementById("whoWinsdiv").innerHTML = "Game over! Player wins!";
                    document.getElementById("scorediv").innerHTML = `Player: ${playerCount} | Computer: ${computerCount}`;
                }
                else{
                    document.getElementById("whoWinsdiv").innerHTML = "Game over! Computer wins!";
                    document.getElementById("scorediv").innerHTML = `Player: ${playerCount} | Computer: ${computerCount}`;
                }
                playerCount = 0;
                computerCount = 0;
                round = 0;
            }
        }
        

        const rock_btn = document.getElementById("rockbtn");
        const paper_btn = document.getElementById("paperbtn");
        const scissors_btn = document.getElementById("scissorsbtn");

        function buttonPress(){
            rock_btn.addEventListener('click', function(){
                playerSelection = "rock";
                playRound(playerSelection);
            });
            paper_btn.addEventListener('click', function(){
                playRound("paper");
            });
            scissors_btn.addEventListener('click', function(){
                playRound("scissors");
            })
        }

        buttonPress();

      /*  function main(){
        rock_div.addEventListener('click', function() {
            playRound("rock");
        })

        paper_div.addEventListener('click', function() {
            playRound("paper");
        })

        scissors_div.addEventListener('click', function() {
            playRound("scissors");
        })
        }
        main();*/
    </script>
</body>
</html>